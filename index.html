<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5">
<title>Secrets Out Jeans - The Edgy Wide-Leg Denim Everyone's Talking About</title>
<meta name="description" content="Wide-leg black denim jeans with studs and eyelets. Mid-rise fit with attitude. Pre-order $19 or ships today $59. Free returns. Secure crypto checkout.">

<!-- TikTok Pixel Code -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=i+"?sdkid="+e+"&lib="+t;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)};
  ttq.load('D3CVHNBC77U2RE92M7O0');
  ttq.page();
  ttq.track('ViewContent', {
    content_id: 'secrets-out-jeans-black',
    content_type: 'product',
    content_name: 'Secrets Out Jeans - Black',
    price: 59,
    currency: 'USD',
    value: 59
  });
}(window, document, 'ttq');
</script>
<!-- End TikTok Pixel Code -->

<!-- Luxury Typography - Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

<!-- Performance Meta -->
<meta name="theme-color" content="#1a1a1a">
<meta name="color-scheme" content="light">

<!-- Critical Resource Hints -->
<link rel="dns-prefetch" href="//analytics.google.com">

<!-- Preload Critical Hero Image -->
<link rel="preload" as="image" href="./images/product/product-01.jpeg" type="image/jpeg" fetchpriority="high">

<!-- Critical CSS - Ultra-Minimal -->
<style>
:root {
  --font-heading: 'Cormorant Garamond', Georgia, serif;
  --font-body: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:var(--font-body);color:#1a1a1a;line-height:1.6;background:#fff;-webkit-font-smoothing:antialiased;overflow-x:hidden}

/* Main Page Styles - No Quiz Version */
.main-content{display:block}
.announcement{background:#1a1a1a;color:#fff;text-align:center;padding:12px;font-size:14px;font-weight:500;position:relative;z-index:10}
.container{max-width:1200px;margin:0 auto;padding:0 20px;position:relative}
.product-hero{display:grid;grid-template-columns:1fr 1fr;gap:60px;padding:40px 20px;align-items:start;min-height:500px}
.gallery{position:sticky;top:20px;z-index:1}
.main-img{width:100%;height:auto;border-radius:12px;aspect-ratio:3/4;object-fit:cover;background:#f8f8f8;will-change:transform;transition:opacity 0.3s ease}
.product-info{position:relative;z-index:2}
.product-info h1{font-family:var(--font-heading);font-size:clamp(32px,5vw,48px);font-weight:600;margin-bottom:10px;line-height:1.2;letter-spacing:-0.01em}
.tagline{font-family:var(--font-body);color:#666;font-size:clamp(16px,3vw,18px);margin-bottom:20px;font-weight:400}
.price-box{display:flex;align-items:baseline;gap:15px;margin-bottom:30px;flex-wrap:wrap}
.price{font-size:clamp(28px,6vw,36px);font-weight:700;color:#000;letter-spacing:-0.02em}
.old-price{font-size:clamp(20px,4vw,24px);color:#999;text-decoration:line-through}
.badge{background:#dc3545;color:#fff;padding:4px 12px;border-radius:20px;font-size:14px;font-weight:600;white-space:nowrap}
.cta-btn{width:100%;padding:18px;font-size:18px;font-weight:700;border-radius:12px;border:none;cursor:pointer;margin-bottom:15px;transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);transform:translateZ(0);will-change:transform;position:relative;overflow:hidden}
.cta-btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(120deg,transparent,rgba(255,255,255,0.3),transparent);transition:left 0.6s;z-index:1}
.cta-btn:hover::before{left:100%}
.cta-primary{background:linear-gradient(135deg,#1a1a1a 0%,#2a2a2a 100%);color:#fff;box-shadow:0 4px 20px rgba(26,26,26,0.25)}
.cta-primary:hover{transform:translateY(-3px) scale(1.01);box-shadow:0 8px 30px rgba(26,26,26,0.35)}
.cta-primary:active{transform:translateY(0) scale(0.98)}
.btn-subtitle{font-size:12px;font-weight:400;opacity:0.9;margin-top:4px;position:relative;z-index:2}
.fade-in{opacity:0;transform:translateY(20px);transition:opacity 0.6s ease,transform 0.6s ease}
.fade-in.visible{opacity:1;transform:translateY(0)}

/* Testimonial Styles */
.testimonial-card{background:#fff;border-radius:16px;padding:24px;box-shadow:0 2px 12px rgba(0,0,0,0.06);border:1px solid #f0f0f0}
.testimonial-header{display:flex;align-items:center;gap:12px;margin-bottom:16px}
.testimonial-avatar{width:48px;height:48px;border-radius:50%;object-fit:cover}
.testimonial-info{flex:1}
.testimonial-name{font-weight:600;font-size:14px;margin-bottom:2px}
.testimonial-platform{display:flex;align-items:center;gap:6px;color:#666;font-size:12px}
.testimonial-platform svg{width:14px;height:14px}
.testimonial-stars{color:#ffc107;font-size:14px;letter-spacing:2px}
.testimonial-text{font-size:15px;line-height:1.6;color:#333}
.testimonial-date{color:#999;font-size:12px;margin-top:12px}

/* Urgency Elements */
.live-activity {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #666;
  margin-bottom: 12px;
  font-weight: 500;
}
.live-dot {
  width: 8px;
  height: 8px;
  background: #22c55e;
  border-radius: 50%;
  animation: pulse-dot 2s ease-in-out infinite;
}
@keyframes pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(1.2); }
}
.stock-warning {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  border: 1px solid #f59e0b;
  border-radius: 8px;
  font-size: 13px;
  color: #92400e;
  margin: 12px 0;
  font-weight: 500;
}
.stock-warning strong { color: #dc2626; font-weight: 700; }
.purchase-toast {
  position: fixed;
  bottom: 20px;
  left: 20px;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.15);
  z-index: 1000;
  transform: translateX(-120%);
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}
.purchase-toast.show { transform: translateX(0); }
.purchase-toast.hidden { display: none; }
.toast-avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; }
.toast-content { display: flex; flex-direction: column; font-size: 13px; }
.toast-name { color: #1f2937; font-weight: 600; }
.toast-action { color: #22c55e; font-weight: 500; }
.toast-time { color: #9ca3af; font-size: 11px; }

/* Trust Badges */
.trust-badges {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 16px;
  margin: 30px 0;
}
.trust-badge {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 16px;
  background: #f8f9fa;
  border-radius: 12px;
  transition: all 0.3s ease;
}
.trust-badge:hover {
  background: #fff;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  transform: translateY(-2px);
}
.trust-icon {
  width: 40px;
  height: 40px;
  margin-bottom: 8px;
  color: #1a1a1a;
}
.trust-icon svg {
  width: 100%;
  height: 100%;
}
.trust-text {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.trust-text strong {
  font-size: 15px;
  font-weight: 700;
  color: #1a1a1a;
}
.trust-text span {
  font-size: 12px;
  color: #666;
}

/* Size Selector */
.size-btn{padding:14px 12px;border:2px solid #e0e0e0;background:#fff;border-radius:8px;cursor:pointer;font-weight:600;transition:all 0.2s;font-size:14px}
.size-btn:not(:disabled):hover{border-color:#1a1a1a;transform:scale(1.05)}
.size-btn.selected{background:#1a1a1a;color:#fff;border-color:#1a1a1a}
.size-btn:disabled{opacity:0.4;cursor:not-allowed}

/* Mobile Responsive */
@media(max-width:768px){
.product-hero{grid-template-columns:1fr;gap:30px;padding:20px 16px}
.gallery{position:static}
.container{padding:0 16px}
.cta-btn{font-size:16px;padding:16px;min-height:56px}
.size-btn{min-width:44px;min-height:44px}
}

@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@keyframes pulse{0%,100%{box-shadow:0 0 0 0 rgba(26,26,26,0.4)}50%{box-shadow:0 0 0 10px rgba(26,26,26,0)}}
</style>

<!-- Prefetch Additional Images -->
<link rel="prefetch" as="image" href="./images/product/product-02.jpeg">
<link rel="prefetch" as="image" href="./images/product/product-03.jpeg">
</head>

<body>

<!-- Order Bump Popup -->
<div id="orderBumpPopup" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:10000;align-items:center;justify-content:center;padding:20px">
  <div style="background:#fff;border-radius:16px;max-width:600px;width:100%;padding:40px;position:relative;box-shadow:0 20px 60px rgba(0,0,0,0.3);animation:fadeIn 0.3s ease">
    <button onclick="closeOrderBumpPopup()" style="position:absolute;top:20px;right:20px;background:none;border:none;font-size:28px;cursor:pointer;color:#999;line-height:1;padding:0;width:32px;height:32px">&times;</button>
    <div style="text-align:center;margin-bottom:30px">
      <div style="background:#1a1a1a;color:#fff;display:inline-block;padding:8px 16px;border-radius:20px;font-size:14px;font-weight:700;margin-bottom:20px">COMPLETE THE SET!</div>
      <h2 style="font-size:28px;font-weight:700;margin-bottom:12px;color:#1a1a1a">Add the Matching Crop Top?</h2>
      <p style="color:#666;font-size:16px">The perfect pairing for your Secrets Out Jeans</p>
    </div>
    <div style="background:#f8f9fa;border-radius:12px;padding:24px;margin-bottom:30px">
      <div style="display:flex;gap:20px;align-items:center">
        <div style="flex:1">
          <h3 style="font-size:20px;font-weight:700;margin-bottom:8px">Edgy Black Crop Top</h3>
          <ul style="list-style:none;padding:0;margin:0">
            <li style="margin:6px 0;color:#555;font-size:14px">Matching black colorway</li>
            <li style="margin:6px 0;color:#555;font-size:14px">Premium stretchy fabric</li>
            <li style="margin:6px 0;color:#555;font-size:14px">Fitted silhouette</li>
            <li style="margin:6px 0;color:#555;font-size:14px">Complete the denim look</li>
          </ul>
        </div>
        <div style="text-align:center">
          <div style="font-size:14px;color:#999;text-decoration:line-through">$49</div>
          <div style="font-size:32px;font-weight:700;color:#28a745">$10</div>
          <div style="background:#28a745;color:#fff;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:700;margin-top:8px">80% OFF</div>
        </div>
      </div>
    </div>
    <div id="orderSummary" style="background:#fff;border:2px solid #e0e0e0;border-radius:12px;padding:20px;margin-bottom:24px">
      <!-- Dynamic order summary -->
    </div>
    <button onclick="acceptOrderBump()" style="width:100%;background:#28a745;color:#fff;border:none;padding:18px;border-radius:12px;font-size:18px;font-weight:700;cursor:pointer;margin-bottom:12px;transition:all 0.2s">
      YES! Add Crop Top - Only $10
    </button>
    <button onclick="declineOrderBump()" style="width:100%;background:#fff;color:#666;border:2px solid #ddd;padding:14px;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all 0.2s">
      No thanks, just the jeans
    </button>
  </div>
</div>

<!-- Main Content -->
<div class="main-content" id="mainContent">
  <div class="announcement">THE JEANS WITH EDGE - STUDS, EYELETS & ATTITUDE - LIMITED STOCK</div>

  <div class="container">
    <div class="product-hero">
      <div class="gallery">
        <img class="main-img fade-in visible" id="heroImage" src="./images/product/product-01.jpeg" alt="Secrets Out Jeans - Black Denim" width="600" height="800" loading="eager" decoding="async">
        <div id="thumbs" style="display:flex;gap:10px;margin-top:15px;overflow-x:auto"></div>
      </div>

      <div class="product-info">
        <h1 class="fade-in visible">The Edgy Wide-Leg Jeans With Studs & Attitude</h1>
        <p class="tagline fade-in visible">The denim with edgeâ€”studs, eyelets, and all the attitude (everyone will ask where you got them)</p>

        <div class="price-box fade-in visible">
          <span class="price">$59</span>
          <span class="old-price">$89</span>
          <span class="badge">34% OFF</span>
        </div>

        <!-- Live Viewers Counter -->
        <div class="live-activity fade-in visible">
          <span class="live-dot"></span>
          <span class="live-text"><span id="viewerCount">23</span> people viewing right now</span>
        </div>

        <!-- Stock Scarcity Warning -->
        <div class="stock-warning fade-in visible">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 9v4m0 4h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
          </svg>
          <span>Only <strong id="stockCount">34</strong> left at this price!</span>
        </div>

        <div style="color:#dc3545;font-size:14px;font-weight:600;margin-bottom:20px">523 pairs sold this week</div>

        <button class="cta-btn cta-primary fade-in visible" id="primaryCTA" onclick="handleAddToCart('primary')">
          GET MINE NOW - $59
          <div class="btn-subtitle">In Stock: Ships Same-Day (Only 34 Left)</div>
        </button>

        <button class="cta-btn fade-in visible" id="secondaryCTA" style="background:#fff;color:#1a1a1a;border:2px solid #1a1a1a" onclick="handleAddToCart('secondary')">
          PRE-ORDER FOR 68% OFF - $19
          <div class="btn-subtitle">Worth the wait: Ships in 2-3 weeks (save $40)</div>
        </button>

        <!-- Guarantee Badge -->
        <div style="background:#f8fff8;border:2px solid #28a745;border-radius:12px;padding:16px;margin-top:20px;text-align:center">
          <div style="font-weight:700;font-size:16px;color:#28a745;margin-bottom:4px">30-Day Money-Back Guarantee</div>
          <div style="color:#555;font-size:13px">Don't love them? Return for free. No questions asked.</div>
        </div>

        <!-- Trust Badges -->
        <div class="trust-badges">
          <div class="trust-badge">
            <div class="trust-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/>
              </svg>
            </div>
            <div class="trust-text"><strong>10,000+</strong><span>Happy Customers</span></div>
          </div>
          <div class="trust-badge">
            <div class="trust-icon">
              <svg viewBox="0 0 24 24" fill="#facc15"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
            </div>
            <div class="trust-text"><strong>4.9/5</strong><span>Average Rating</span></div>
          </div>
          <div class="trust-badge">
            <div class="trust-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            </div>
            <div class="trust-text"><strong>30-Day</strong><span>Money Back</span></div>
          </div>
        </div>

        <div style="display:flex;gap:20px;margin-top:20px;flex-wrap:wrap">
          <div style="display:flex;align-items:center;gap:8px;color:#666;font-size:14px">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 13l4 4L19 7"/></svg>
            Free Returns
          </div>
          <div style="display:flex;align-items:center;gap:8px;color:#666;font-size:14px">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 13l4 4L19 7"/></svg>
            Fast Shipping
          </div>
          <div style="display:flex;align-items:center;gap:8px;color:#666;font-size:14px">
            <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 13l4 4L19 7"/></svg>
            Secure Checkout
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Lazy Content Container -->
  <div id="lazyContent"></div>
</div>

<!-- Purchase Toast Notifications -->
<div id="purchaseToast" class="purchase-toast hidden">
  <img src="" alt="" class="toast-avatar">
  <div class="toast-content">
    <strong class="toast-name"></strong>
    <span class="toast-action">just purchased</span>
    <span class="toast-time"></span>
  </div>
</div>

<script>
// Performance Metrics
const perfMetrics = { marks: {}, mark(name) { this.marks[name] = performance.now(); } };
perfMetrics.mark('script-start');

// Initialize on DOM ready (no quiz - direct to product)
document.addEventListener('DOMContentLoaded', function() {
  loadThumbnails();
  loadRemainingContent();
  perfMetrics.mark('content-loaded');
});

// ESC key to close popup
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    const popup = document.getElementById('orderBumpPopup');
    if (popup && popup.style.display === 'flex') {
      closeOrderBumpPopup();
    }
  }
});

// Click outside popup to close
document.getElementById('orderBumpPopup')?.addEventListener('click', function(e) {
  if (e.target === this) {
    closeOrderBumpPopup();
  }
});

// Product Images
const productImages = ['product-01.jpeg', 'product-02.jpeg', 'product-03.jpeg', 'product-04.jpeg'];

function loadThumbnails() {
  const thumbsContainer = document.getElementById('thumbs');
  thumbsContainer.innerHTML = '';

  productImages.forEach((src, i) => {
    const thumb = document.createElement('img');
    thumb.src = `./images/product/${src}`;
    thumb.alt = `Product view ${i + 1}`;
    thumb.loading = 'lazy';
    thumb.style.cssText = `width:80px;height:100px;border-radius:8px;cursor:pointer;border:2px solid ${i === 0 ? '#1a1a1a' : 'transparent'};object-fit:cover;transition:all 0.2s`;
    thumb.onclick = () => switchMainImage(src, thumb);
    thumbsContainer.appendChild(thumb);
  });
}

function switchMainImage(src, thumbElement) {
  const heroImg = document.getElementById('heroImage');
  heroImg.src = `./images/product/${src}`;

  document.querySelectorAll('#thumbs img').forEach(t => t.style.borderColor = 'transparent');
  thumbElement.style.borderColor = '#1a1a1a';
}

// Size and Cart Functions
window.selectedSize = null;
window.currentOrderType = null;

function selectSize(button, size) {
  document.querySelectorAll('.size-btn').forEach(btn => {
    btn.classList.remove('selected');
    btn.style.background = '#fff';
    btn.style.color = '#000';
    btn.style.borderColor = '#e0e0e0';
  });

  button.classList.add('selected');
  button.style.background = '#1a1a1a';
  button.style.color = '#fff';
  button.style.borderColor = '#1a1a1a';

  window.selectedSize = size;
}

// SimpleSwap Pool Integration - Uses Netlify Function Proxy
const SIMPLESWAP_POOL_API = '/.netlify/functions';
let requestInFlight = false;  // Race condition protection

async function getExchangeFromPool(amountUSD) {
  if (requestInFlight) {
    console.log('[POOL] Request already in progress');
    return;
  }
  requestInFlight = true;
  try {
    const btn = document.querySelector('.cta-btn.cta-primary');
    const originalText = btn ? btn.innerHTML : '';
    if (btn) btn.innerHTML = 'Creating your order...<div class="btn-subtitle">Please wait</div>';

    const controller = new AbortController();
    const timeoutId = setTimeout(() => controller.abort(), 15000);

    console.log('[CHECKOUT] Calling proxy with amount:', amountUSD);
    const response = await fetch(`${SIMPLESWAP_POOL_API}/buy-now`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ amountUSD: amountUSD }),
      signal: controller.signal
    });

    clearTimeout(timeoutId);
    const data = await response.json();

    if (data.success && data.exchangeUrl) {
      window.location.href = data.exchangeUrl;
    } else {
      alert('Unable to create order. Please try again.');
      if (btn) btn.innerHTML = originalText;
    }
  } catch (error) {
    console.error('[POOL] Error:', error);
    alert(error.name === 'AbortError' ? 'Request timeout. Please try again.' : 'Payment error. Please try again.');
    // Restore button state on error
    const btn = document.querySelector('.cta-btn.cta-primary');
    if (btn) btn.innerHTML = 'GET MINE NOW - $59<div class="btn-subtitle">In Stock: Ships Same-Day (Only 34 Left)</div>';
  } finally {
    requestInFlight = false;  // Reset race condition flag
  }
}

async function processOrder(amountUSD) {
  if (typeof ttq !== 'undefined') {
    ttq.track('Purchase', {
      content_id: 'secrets-out-jeans-black',
      content_type: 'product',
      content_name: 'Secrets Out Jeans - Black',
      price: amountUSD,
      quantity: 1,
      currency: 'USD',
      value: amountUSD
    });
  }
  await getExchangeFromPool(amountUSD);
}

function handleAddToCart(type) {
  perfMetrics.mark(`cta-clicked-${type}`);
  window.currentOrderType = type;

  if (!window.selectedSize) {
    const sizeSection = document.querySelector('.size-grid');
    if (sizeSection) {
      sizeSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
      sizeSection.style.animation = 'pulse 1s ease-in-out';
    }
    return;
  }

  showOrderBumpPopup(type);
}

function showOrderBumpPopup(type) {
  const basePrice = type === 'primary' ? 59 : 19;
  const bumpPrice = 10;
  const total = basePrice + bumpPrice;

  document.getElementById('orderSummary').innerHTML = `
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
      <span style="color:#666">${type === 'primary' ? 'Secrets Out Jeans' : 'Pre-Order: Secrets Out Jeans'}</span>
      <span style="font-weight:600">$${basePrice}</span>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:12px;border-bottom:1px solid #e0e0e0">
      <span style="color:#28a745;font-weight:600">+ Matching Crop Top</span>
      <span style="font-weight:600;color:#28a745">$${bumpPrice}</span>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center">
      <span style="font-size:18px;font-weight:700">Total</span>
      <span style="font-size:24px;font-weight:700;color:#000">$${total}</span>
    </div>
  `;

  document.getElementById('orderBumpPopup').style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeOrderBumpPopup() {
  document.getElementById('orderBumpPopup').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function acceptOrderBump() {
  closeOrderBumpPopup();
  // API only accepts: 19, 29, 59
  // Primary ($59) + bustier = use $59 (bustier bonus included)
  // Pre-order ($19) + bustier = $29 (supported)
  const amount = window.currentOrderType === 'primary' ? 59 : 29;
  processOrder(amount);
}

function declineOrderBump() {
  closeOrderBumpPopup();
  const amount = window.currentOrderType === 'primary' ? 59 : 19;
  processOrder(amount);
}

// SVG Platform Icons
const platformSVGs = {
  tiktok: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"/></svg>`,
  instagram: `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/></svg>`,
  facebook: `<svg viewBox="0 0 24 24" fill="#1877F2"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>`,
  trustpilot: `<svg viewBox="0 0 24 24" fill="#00b67a"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>`,
  google: `<svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>`
};

const platformColors = {
  tiktok: '#000000',
  instagram: '#E4405F',
  facebook: '#1877F2',
  trustpilot: '#00b67a',
  google: '#4285F4'
};

// Testimonial Data - 30 unique testimonials with platform distribution
const testimonials = [
  { name: "Maya R.", platform: "tiktok", rating: 5, text: "OMG these jeans tho!! the studs hit different i swear everyone at the mall was staring ðŸ˜­âœ¨ already planning my whole wardrobe around them", date: "1 day ago", img: 1 },
  { name: "Jessica T.", platform: "instagram", rating: 5, text: "I've been searching for the perfect edgy jeans forever and these are IT. The wide leg is so flattering and the stud details make me feel like a total badass. Got them in 3 days, quality is incredible for the price point. Already styling them 5 different ways ðŸ–¤", date: "3 days ago", img: 2 },
  { name: "Amber L.", platform: "tiktok", rating: 5, text: "not me buying jeans from tiktok BUT THEY'RE ACTUALLY AMAZING?? the fit is chef's kiss and the eyelets are so unique like i've never seen anything like this", date: "2 days ago", img: 3 },
  { name: "Rachel K.", platform: "twitter", rating: 5, text: "finally found jeans with actual PERSONALITY. the studs are everything. worth every single penny #SecretsOutJeans #EdgyStyle", date: "4 days ago", img: 4 },
  { name: "Brooklyn S.", platform: "tiktok", rating: 5, text: "wearing these to my concert tmrw and i already know im gonna get so many compliments. the black denim is so clean and the hardware is perfection ðŸ”¥", date: "1 day ago", img: 5 },
  { name: "Samantha P.", platform: "instagram", rating: 5, text: "Okay so I was skeptical ordering jeans online because sizing is always a gamble but WOW. These fit like they were custom made for me. The mid-rise is perfect - not too high, not too low. And can we talk about how the studs catch the light? I wore these to a friend's bday party and literally got asked for the link 8 times. Worth. Every. Cent.", date: "5 days ago", img: 6 },
  { name: "Chloe M.", platform: "facebook", rating: 5, text: "My daughter showed me these on TikTok and I ordered a pair for myself! I'm 42 and still love edgy fashion. These jeans are so well-made - the denim is thick and high quality, the studs are securely attached. They make me feel young and stylish again. Highly recommend for any age!", date: "1 week ago", img: 7 },
  { name: "Taylor H.", platform: "tiktok", rating: 5, text: "the way i RAN to order these after seeing them on my fyp 3 times in one day lmaooo best impulse buy EVER ðŸ–¤âœ¨", date: "3 days ago", img: 8 },
  { name: "Alexis W.", platform: "google", rating: 5, text: "Excellent quality jeans. The denim is substantial without being stiff. Studs and eyelets are well-crafted and don't feel cheap. Fit is true to size. Shipped quickly. Would definitely purchase again.", date: "6 days ago", img: 9 },
  { name: "Morgan B.", platform: "twitter", rating: 5, text: "POV: you found jeans that actually make your outfit go from a 6 to a 10. these are those jeans. #OOTD #JeansWithAttitude", date: "2 days ago", img: 10 },
  { name: "Kayla J.", platform: "instagram", rating: 4, text: "These jeans are SO GOOD. Only reason I'm not giving 5 stars is because I wish they had more size options (I'm between sizes and had to size up slightly). But honestly the quality makes up for it. The studs are my favorite part - they're bold without being too much. Perfect with a simple crop top or dressed up with a blazer.", date: "4 days ago", img: 11 },
  { name: "Sienna R.", platform: "tiktok", rating: 5, text: "literally obsessed like unhealthily obsessed. im wearing them rn as i type this and i never wanna take them off ðŸ˜­ the eyelets go crazy", date: "1 day ago", img: 12 },
  { name: "Victoria N.", platform: "twitter", rating: 5, text: "went from basic denim girlie to THAT girl in these jeans. confidence level: maximum. ðŸ–¤âš¡ï¸", date: "5 days ago", img: 13 },
  { name: "Ashley C.", platform: "instagram", rating: 5, text: "I cannot stop taking mirror selfies in these ðŸ˜‚ The fit is absolutely perfect - hugs in all the right places and the wide leg creates such a flattering silhouette. I'm 5'3\" and was worried they'd be too long but they stack perfectly at the ankle. The stud detailing is gorgeous and feels expensive. Already eyeing another pair!", date: "3 days ago", img: 14 },
  { name: "Destiny L.", platform: "google", rating: 4, text: "Great quality jeans at a reasonable price. The black color hasn't faded after multiple washes. Studs are secure. Comfortable for all-day wear. Minor complaint: pocket depth could be better. Still happy with purchase overall.", date: "1 week ago", img: 15 },
  { name: "Hailey D.", platform: "tiktok", rating: 5, text: "my bf said these jeans cost HOW MUCH and then i wore them out and he was like ok yeah i get it now ðŸ˜‚ they just HIT", date: "2 days ago", img: 16 },
  { name: "Madison G.", platform: "facebook", rating: 5, text: "I bought these for my 19-year-old daughter but ended up keeping them for myself! The fit is fantastic - flattering for both younger and older bodies. The studs add just enough edge without looking like I'm trying too hard. My daughter was NOT happy but she ordered her own pair ðŸ˜„", date: "1 week ago", img: 17 },
  { name: "Peyton V.", platform: "tiktok", rating: 5, text: "ok so i dont usually leave reviews but these jeans changed my life?? like actually?? im getting compliments from STRANGERS and that never happens to me ðŸ¥º", date: "4 days ago", img: 18 },
  { name: "Savannah K.", platform: "instagram", rating: 5, text: "The QUALITY omg. I've paid $200+ for designer jeans that aren't even close to this good. The denim is thick and structured, holds its shape all day. The hardware is legit - not flimsy at all. These photograph beautifully too if you're into content creation. I've shot 3 different reels in them already and my engagement is UP ðŸ”¥", date: "6 days ago", img: 19 },
  { name: "Kendall F.", platform: "twitter", rating: 5, text: "these jeans said \"let me add some spice to your wardrobe\" and they DELIVERED. studs = elite. fit = immaculate. ðŸ–¤", date: "3 days ago", img: 20 },
  { name: "Brianna W.", platform: "tiktok", rating: 5, text: "the way these jeans make my outfit look expensive when the whole thing cost like $40 >>> financial genius honestly", date: "1 day ago", img: 1 },
  { name: "Natalie S.", platform: "instagram", rating: 5, text: "I'm a professional stylist and I had to get these for my own closet after styling a client in them. The construction is excellent - you can tell they're well-made from the stitching alone. The studs are hand-placed (or at least look like it) and the eyelets add dimension. Perfect for creating that effortlessly cool aesthetic everyone wants right now.", date: "5 days ago", img: 2 },
  { name: "Aubrey M.", platform: "tiktok", rating: 4, text: "love them sm!! only complaint is i wish i ordered 2 pairs bc now i wanna wear them every single day and thats not socially acceptable apparently lol", date: "3 days ago", img: 3 },
  { name: "Nicole P.", platform: "google", rating: 5, text: "Fast shipping. Perfect fit. Excellent quality. The studs add a nice touch without being overwhelming. Highly satisfied.", date: "1 week ago", img: 4 },
  { name: "Gabriella T.", platform: "twitter", rating: 5, text: "me: i don't need more jeans\nthese jeans: exist\nme: immediately ordering\nno regrets whatsoever ðŸ”¥ðŸ–¤", date: "2 days ago", img: 5 },
  { name: "Kimberly H.", platform: "instagram", rating: 5, text: "I was THIS close to buying $150 jeans from Zara and then I found these. Literally saved me $100+ and these are better quality anyway. The wide leg trend isn't going anywhere and these are the perfect way to try it without breaking the bank. Plus the edgy vibe with the studs means they won't look dated next season. Smart purchase tbh.", date: "4 days ago", img: 6 },
  { name: "Jasmine L.", platform: "tiktok", rating: 5, text: "wore these on a date and he literally asked if i was a model ðŸ’€ sir no im just wearing good jeans thank u secrets out", date: "1 day ago", img: 7 },
  { name: "Paige R.", platform: "tiktok", rating: 5, text: "the girls who know, KNOW. if u havent ordered these yet what are u even doing ?? the eyelets are chefs kiss mwah ðŸ’‹", date: "3 days ago", img: 8 },
  { name: "Kennedy S.", platform: "instagram", rating: 5, text: "As someone who works in fashion retail, I can confidently say these are a steal. We sell similar styles for 3x the price. The denim weight is perfect, the wash is consistent, and the hardware details are on-trend. If you're on the fence, just get them. You won't regret it.", date: "6 days ago", img: 9 },
  { name: "Bailey C.", platform: "tiktok", rating: 5, text: "my roommate borrowed these once and now she wont give them back send help ðŸ˜­ðŸ˜­ (but also ordering her own pair for xmas so problem solved)", date: "2 days ago", img: 10 }
];

// Load Remaining Content
function loadRemainingContent() {
  const lazyContent = document.getElementById('lazyContent');

  lazyContent.innerHTML = `
    <!-- Size Selector -->
    <div class="fade-in" style="padding:40px 20px;border-top:1px solid #f0f0f0;max-width:1200px;margin:0 auto">
      <h3 style="margin-bottom:20px;font-weight:600;font-size:18px">Select Your Size:</h3>
      <div class="size-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:12px;margin-bottom:30px">
        ${[{s:'XXS',a:true},{s:'XS',a:true},{s:'S',a:true},{s:'M',a:true},{s:'L',a:true},{s:'XL',a:false},{s:'XXL',a:false}].map(size =>
          `<button class="size-btn" data-size="${size.s}" ${!size.a ? 'disabled' : ''} onclick="selectSize(this, '${size.s}')">${size.s}${!size.a ? '<span style="display:block;font-size:10px;color:#dc3545;margin-top:2px">Sold Out</span>' : ''}</button>`
        ).join('')}
      </div>
      <div style="background:#f8f9fa;border-left:3px solid #1a1a1a;padding:20px;border-radius:8px">
        <strong style="color:#1a1a1a">Free Returns + Fast Shipping</strong><br>
        <span style="color:#666;font-size:14px">Not satisfied? Return within 30 days for a full refund.</span>
      </div>
    </div>

    <!-- Product Details -->
    <div class="fade-in" style="padding:60px 20px;background:#f8f9fa;max-width:1200px;margin:0 auto">
      <h2 style="text-align:center;font-size:28px;font-weight:700;margin-bottom:40px">The Details</h2>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,280px),1fr));gap:20px">
        <div style="background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,0.04)">
          <h3 style="font-size:18px;font-weight:600;margin-bottom:16px">Fit & Style</h3>
          <ul style="color:#555;font-size:15px;line-height:1.8;list-style:none;padding:0">
            <li>Wide-leg denim silhouette</li>
            <li>Mid-rise fit with button fly</li>
            <li>Distinctive studs & eyelets</li>
            <li>Tailored, edgy aesthetic</li>
          </ul>
        </div>
        <div style="background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,0.04)">
          <h3 style="font-size:18px;font-weight:600;margin-bottom:16px">Fabric & Care</h3>
          <ul style="color:#555;font-size:15px;line-height:1.8;list-style:none;padding:0">
            <li>Premium black denim</li>
            <li>Durable metal hardware</li>
            <li>Machine wash cold</li>
            <li>Tumble dry low or hang</li>
          </ul>
        </div>
        <div style="background:#fff;padding:30px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,0.04)">
          <h3 style="font-size:18px;font-weight:600;margin-bottom:16px">Styling Tips</h3>
          <ul style="color:#555;font-size:15px;line-height:1.8;list-style:none;padding:0">
            <li>Pair with crop top for edge</li>
            <li>Style with boots for concerts</li>
            <li>Leather jacket for night out</li>
            <li>White tee for casual cool</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Why Choose Section -->
    <div class="fade-in" style="padding:60px 20px;max-width:1200px;margin:0 auto">
      <h2 style="text-align:center;font-size:28px;font-weight:700;margin-bottom:40px">Why Everyone's Obsessed</h2>
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,250px),1fr));gap:20px">
        ${[
          { icon: '', title: 'Edgy Hardware', desc: 'Distinctive studs and eyelets that make you stand out' },
          { icon: '', title: 'Premium Denim', desc: 'Thick black denim that holds its shape and looks expensive' },
          { icon: '', title: 'Versatile Edge', desc: 'Dress up or down - rock them anywhere with attitude' }
        ].map(f => `
          <div style="text-align:center;padding:30px">
            <div style="font-size:48px;margin-bottom:20px">${f.icon}</div>
            <h3 style="margin-bottom:15px;font-weight:600">${f.title}</h3>
            <p style="color:#666;font-size:14px;line-height:1.6">${f.desc}</p>
          </div>
        `).join('')}
      </div>
    </div>

    <!-- Testimonials Section -->
    <div class="fade-in" style="padding:60px 20px;background:#f8f9fa">
      <div style="max-width:1200px;margin:0 auto">
        <h2 style="text-align:center;font-size:28px;font-weight:700;margin-bottom:16px">Real Reviews</h2>
        <p style="text-align:center;color:#666;margin-bottom:40px">See what people are saying about these jeans</p>

        <div id="testimonialGrid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(min(100%,350px),1fr));gap:24px">
          ${renderTestimonials(10)}
        </div>

        <div style="text-align:center;margin-top:40px">
          <button id="loadMoreBtn" onclick="loadMoreReviews()" style="background:#1a1a1a;color:#fff;border:none;padding:16px 40px;border-radius:8px;font-weight:600;cursor:pointer;transition:all 0.2s">
            Load More Reviews
          </button>
        </div>
      </div>
    </div>

    <!-- Final CTA -->
    <div class="fade-in" style="padding:80px 20px;text-align:center;background:linear-gradient(135deg,#1a1a1a 0%,#2a2a2a 100%);color:#fff">
      <h2 style="font-size:clamp(28px,5vw,40px);font-weight:700;margin-bottom:16px">Don't Miss Out</h2>
      <p style="font-size:18px;opacity:0.9;margin-bottom:30px;max-width:500px;margin-left:auto;margin-right:auto">These jeans sold out 2x already. Get yours before they're gone again.</p>
      <button onclick="document.querySelector('.product-hero').scrollIntoView({behavior:'smooth'})" style="background:#fff;color:#1a1a1a;border:none;padding:18px 50px;border-radius:8px;font-size:18px;font-weight:700;cursor:pointer;transition:all 0.2s">
        Get Yours Now
      </button>
    </div>
  `;

  // Animate elements
  requestAnimationFrame(() => {
    document.querySelectorAll('.fade-in').forEach((el, i) => {
      setTimeout(() => el.classList.add('visible'), i * 100);
    });
  });
}

function renderTestimonials(count) {
  return testimonials.slice(0, count).map(t => `
    <div class="testimonial-card">
      <div class="testimonial-header">
        <img src="./images/testimonials/testimonial-${String(t.img).padStart(2, '0')}.jpeg" alt="${t.name}" class="testimonial-avatar" loading="lazy">
        <div class="testimonial-info">
          <div class="testimonial-name">${t.name}</div>
          <div class="testimonial-platform" style="color:${platformColors[t.platform]}">
            ${platformSVGs[t.platform]}
            <span>Verified on ${t.platform.charAt(0).toUpperCase() + t.platform.slice(1)}</span>
          </div>
        </div>
        <div class="testimonial-stars">${'â˜…'.repeat(t.rating)}${'â˜†'.repeat(5-t.rating)}</div>
      </div>
      <p class="testimonial-text">${t.text}</p>
      <div class="testimonial-date">${t.date}</div>
    </div>
  `).join('');
}

let reviewsLoaded = 10;
function loadMoreReviews() {
  const grid = document.getElementById('testimonialGrid');
  const remaining = testimonials.slice(reviewsLoaded);

  remaining.forEach((t, i) => {
    const card = document.createElement('div');
    card.className = 'testimonial-card';
    card.style.opacity = '0';
    card.style.transform = 'translateY(20px)';
    card.innerHTML = `
      <div class="testimonial-header">
        <img src="./images/testimonials/testimonial-${String(t.img).padStart(2, '0')}.jpeg" alt="${t.name}" class="testimonial-avatar" loading="lazy">
        <div class="testimonial-info">
          <div class="testimonial-name">${t.name}</div>
          <div class="testimonial-platform" style="color:${platformColors[t.platform]}">
            ${platformSVGs[t.platform]}
            <span>Verified on ${t.platform.charAt(0).toUpperCase() + t.platform.slice(1)}</span>
          </div>
        </div>
        <div class="testimonial-stars">${'â˜…'.repeat(t.rating)}${'â˜†'.repeat(5-t.rating)}</div>
      </div>
      <p class="testimonial-text">${t.text}</p>
      <div class="testimonial-date">${t.date}</div>
    `;
    grid.appendChild(card);

    setTimeout(() => {
      card.style.transition = 'all 0.4s ease';
      card.style.opacity = '1';
      card.style.transform = 'translateY(0)';
    }, i * 50);
  });

  reviewsLoaded = testimonials.length;
  document.getElementById('loadMoreBtn').style.display = 'none';
}

// Live Viewer Counter - updates every 8 seconds
setInterval(() => {
  const el = document.getElementById('viewerCount');
  if (el) {
    const current = parseInt(el.textContent);
    const change = Math.floor(Math.random() * 5) - 2;
    el.textContent = Math.max(15, Math.min(35, current + change));
  }
}, 8000);

// Stock Counter - decreases slowly
setInterval(() => {
  const el = document.getElementById('stockCount');
  if (el) {
    const current = parseInt(el.textContent);
    if (current > 28 && Math.random() > 0.7) {
      el.textContent = current - 1;
    }
  }
}, 45000);

// Purchase Toast Notifications
const buyers = [
  { name: 'Sarah M.', city: 'Los Angeles', time: '2 minutes ago' },
  { name: 'Emma K.', city: 'New York', time: '5 minutes ago' },
  { name: 'Ashley R.', city: 'Chicago', time: '8 minutes ago' },
  { name: 'Jessica L.', city: 'Miami', time: '12 minutes ago' },
  { name: 'Amanda P.', city: 'Dallas', time: '15 minutes ago' },
  { name: 'Rachel T.', city: 'Seattle', time: '18 minutes ago' },
  { name: 'Michelle B.', city: 'Denver', time: '22 minutes ago' },
  { name: 'Lauren H.', city: 'Boston', time: '25 minutes ago' }
];
let buyerIndex = 0;

function showPurchaseToast() {
  const toast = document.getElementById('purchaseToast');
  const buyer = buyers[buyerIndex % buyers.length];
  toast.querySelector('.toast-name').textContent = buyer.name + ' from ' + buyer.city;
  toast.querySelector('.toast-time').textContent = buyer.time;
  toast.querySelector('.toast-avatar').src = `https://i.pravatar.cc/80?img=${(buyerIndex % 30) + 1}`;
  toast.classList.remove('hidden');
  setTimeout(() => toast.classList.add('show'), 50);
  setTimeout(() => {
    toast.classList.remove('show');
    setTimeout(() => toast.classList.add('hidden'), 400);
  }, 4000);
  buyerIndex++;
}

// Show first toast after 8 seconds, then random intervals
setTimeout(showPurchaseToast, 8000);
setInterval(showPurchaseToast, 25000 + Math.random() * 20000);

// Initialize on load
window.addEventListener('load', () => {
  perfMetrics.mark('window-loaded');
  console.log('Performance Metrics:', perfMetrics.marks);

  // Register Service Worker for caching
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js')
      .then(reg => console.log('SW registered:', reg.scope))
      .catch(err => console.log('SW registration skipped'));
  }
});
</script>

</body>
</html>
